{% extends "base_cadastro.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/cadastro.css">
<link rel="stylesheet" href="/static/css/login.css">
{% endblock %}

{% block conteudo %}
<div class="login-form">
    <div class="mb-4 text-center">
        <h3 class="mt-2 title-criar-conta">Entrar</h3>
        <p class="text-muted">Acesse sua conta para continuar</p>
    </div>

    <form id="loginForm" action="/login" method="post" novalidate>
        {% if erros and "GERAL" in erros.keys(): %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <strong>Erro:</strong><br>
            {{ erros["GERAL"] }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control {% if erros and 'EMAIL' in erros.keys() %}is-invalid{% endif %}" id="email" name="email" value="{{ dados.email if dados else '' }}" required>
            {% if erros and 'EMAIL' in erros.keys() %}
            <div class="invalid-feedback">{{ erros['EMAIL'] }}</div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label for="password" class="form-label">Senha</label>
            <input type="password" class="form-control {% if erros and 'SENHA' in erros.keys() %}is-invalid{% endif %}" id="password" name="senha" required>
            {% if erros and 'SENHA' in erros.keys() %}
            <div class="invalid-feedback">{{ erros['SENHA'] }}</div>
            {% endif %}
        </div>

        <!-- Funcionalidade 'lembre de mim' removida -->

        <button type="submit" class="btn btn-login w-100 mb-3">
            Entrar
        </button>

        <div class="text-center mb-3">
            <a href="/esqueceu_senha" class="forgot-password">Esqueceu sua senha?</a>
        </div>

        <div class="text-center">
            <span class="text-muted">NÃ£o tem uma conta? </span>
            <a href="/cadastro" class="register-link">Cadastre-se</a>
        </div>
    </form>
</div>
</div>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/js/login.js"></script>
{% endblock %}

